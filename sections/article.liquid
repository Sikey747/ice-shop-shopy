{% comment %} {% assign number_of_comments = article.comments_count %}
                                                                        {% if comment and comment.created_at %}
                                                                          {% assign number_of_comments = article.comments_count %}
                                                                        {% endif %}

                                                                        <h1>{{ article.title }}</h1>
                                                                        {% capture author %}<strong>{{ article.author }}</strong>{% endcapture %}
                                                                        {% capture date %}<time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">{{ article.published_at | date: format: 'month_day_year' }}</time>{% endcapture %}
                                                                        {{ article.author }} @ {{ article.created_at }}

                                                                        <div>{{ article.content }}</div>
                                                                        {% if blog.comments_enabled? %}
                                                                          <h2>{{ number_of_comments }} comments</h2>
                                                                          {% paginate article.comments by 5 %}
                                                                            {% for comment in article.comments %}
                                                                              <div>
                                                                                <div>{{ comment.content }}</div>
                                                                                {{ comment.author }} @ {{ comment.created_at }}
                                                                              </div>
                                                                            {% endfor %}
                                                                            {% if paginate.pages > 1 %}
                                                                              {{ paginate | default_pagination }}
                                                                            {% endif %}
                                                                          {% endpaginate %}

                                                                          <div>
                                                                            {% form 'new_comment', article %}
                                                                              {{ form.errors | default_errors }}
                                                                              <label for="CommentAuthor">name</label>
                                                                              <input type="text" name="comment[author]" id="CommentAuthor" placeholder="name" value="{{ form.author }}" autocapitalize="words">

                                                                              <label for="CommentEmail">email</label>
                                                                              <input type="email" name="comment[email]" id="CommentEmail" placeholder="email" value="{{ form.email }}" autocorrect="off" autocapitalize="off">

                                                                              <label for="CommentBody">message</label>
                                                                              <textarea name="comment[body]" id="CommentBody" placeholder="message">{{ form.body }}</textarea>

                                                                              <input type="submit" value="post">
                                                                            {% endform %}
                                                                          </div>
{% endif %} {% endcomment %}


<div class="container flex flex-col gap-6">

  <div class="">
    <h1 class="">{{ article.title }}</h1>
    <div class="ibg">
      {% if article.user.image %}
        {{ article.user.image | image_tag | image_url: width: "100px" }}
      {% else %}
        {% render "icon-user" %}
      {% endif %}

    </div>
    <h3>{{ article.author }}</h3>
    {% if article.tags != blank %}
      <div>
        <ul>
          {% for tag in article.tags %}
            <li>
              {{ tag }}
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <time>{{ article.created_at }}</time>
  </div>

  <div class="h-24 ibg">
    {% if article.image %}
      {{ article.image | image_tag | image_url: width: "2000" }}
    {% else %}
      {{ "lifestyle-1" | placeholder_svg_tag }}
    {% endif %}
  </div>

  <div class="">
    {{ article.content }}
  </div>

  <div class="line"></div>

  <div>
    {% if article.comments_enabled? %}
      {% if article.comments_count > 0 %}
        <p>{{ article.comments_count }}</p>
        {% paginate article.comments by 5 %}
          <ul class="">
            {% for coment in article.comments %}
              <li class="p-3 shadow-md">
                <div class="ibg"></div>
                <div class="flex gap-2 max-w-[500px] flex-col relative">
                  <h5 class="text-3xl font-semibold">{{ coment.author }}</h5>
                  <p class="text-primary-gray2">{{ coment.created_at }}</p>
                </div>
                <div>{{ coment.content }}</div>
              </li>
            {% endfor %}
          </ul>
          {{ paginate | default_pagination }}
        {% endpaginate %}
      {% endif %}
    {% endif %}

    <div>
      {% form 'new_comment'
        , article %}
        {{ form.errors | default_errors }}

        <div class="name">
          <label for="name">Name</label>
          <input
            type="text"
            name="comment[author]"
            value="{{ form.author }}">
        </div>

        <div class="email">
          <label for="email">Email</label>
          <input
            type="email"
            name="comment[email]"
            value="{{ form.email }}">
        </div>

        <div class="comment">
          <label for="comment">Comment</label>
          <textarea name="comment[body]">{{ form.body }}</textarea>
        </div>

        <div class="submit">
          <input type="submit" value="Post">
        </div>
      {% endform %}
    </div>
  </div>
</div>